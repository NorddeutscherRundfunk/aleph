TimelineBase:
  type: object
  properties:
    label:
      type: string
    summary:
      type: string
      nullable: true

TimelineUpdate:
  type: object
  allOf:
    - $ref: '#/components/schemas/TimelineBase'
  properties:
    entities:
      type: array
      items:
        type: string
  required: []

TimelineCreate:
  type: object
  allOf:
    - $ref: '#/components/schemas/TimelineBase'
  properties:
    collection_id:
      type: string
    entities:
      type: array
      items:
        type: object
        allOf:
          - $ref: '#/components/schemas/EntityUpdate'
        properties:
          id:
            type: string
            format: entity_id
        required: ['id', 'schema', 'properties']
  required: ["label", "collection_id"]

Timeline:
  type: object
  allOf:
  - $ref: '#/components/schemas/DatedModel'
  - $ref: '#/components/schemas/TimelineBase'
  properties:
    collection:
      type: object
      allOf:
      - $ref: '#/components/schemas/Collection'
    role_id:
      type: string
    entities:
      type: array
      items:
        type: object
        allOf:
        - $ref: '#/components/schemas/EntityUpdate'
        properties:
          id:
            type: string
            format: entity_id
        required: ["id", "schema"]
    writeable:
      type: boolean
  required: ["collection", "role_id", "label", "layout", "entities", "writeable"]
